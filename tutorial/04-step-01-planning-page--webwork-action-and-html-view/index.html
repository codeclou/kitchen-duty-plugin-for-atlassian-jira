<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    
    
    <title>Webwork Action and HTML View ~ Planning Page | Plugin Development Tutorial for Atlassian JIRA® | Kitchen Duty Plugin by Comsysto Reply</title>
    <meta description="Developing the Webwork Action and HTML View for the Planning Page of Kitchen Duty Plugin for Atlassian JIRA® by Comsysto Reply">
    <meta name="robots" content="index, follow">


    
    <meta property="og:title" content="Kitchen Duty Plugin for Atlassian JIRA® by Comsysto Reply" />
    <meta property="og:image" content="https://comsysto.github.io/kitchen-duty-plugin-for-atlassian-jira/images/kitchen-duty-plugin--social.jpg" />
    <meta property="og:description" content="An interactive tutorial on how to write Plugins for Atlassian JIRA® by Comsysto Reply" />

    
    <link rel="canonical" href="https://comsysto.github.io/kitchen-duty-plugin-for-atlassian-jira/tutorial/04-step-01-planning-page--webwork-action-and-html-view/" />

    <link rel="alternate" type="application/rss+xml" title="Kitchen Duty Plugin News" href="https://comsysto.github.io/kitchen-duty-plugin-for-atlassian-jira/rss_feed.xml" />



    <link href="/kitchen-duty-plugin-for-atlassian-jira/generated/bundlev2.css?v2018-09-02--12-50" rel="stylesheet">

    <link rel="icon" href="/kitchen-duty-plugin-for-atlassian-jira/images/favicon-32.png" type="image/png" sizes="32x32">
    <link rel="icon" href="/kitchen-duty-plugin-for-atlassian-jira/images/favicon-256.png" type="image/png" sizes="256x256">
    <link rel="icon" href="/kitchen-duty-plugin-for-atlassian-jira/images/favicon.svg" type="image/svg+xml">

    <script>var postLoadMethods = [];</script>
</head>
<body class="cs-tutorial-body">




















<textarea id="copy-to-clipboard-dummy"></textarea>
<div class="cs-page-header">
    <div class="row">
        <div class="col-md-5 cs-page-header-left">
            <a href="/kitchen-duty-plugin-for-atlassian-jira/" class="cs-page-logo">
                <span class="cs-page-logo-img d-none d-lg-inline"></span>
                <h1>Kitchen Duty Plugin</h1>
                <h2>Tutorial for Atlassian JIRA® Server</h2>
            </a>
            <a class="btn btn-primary cs-burger-button" id="toggleSidebarButton">
                <span class="cs-news-right" style="color:#fff;"><i class="fa fa-bars fa-lg" aria-hidden="true"></i></span>
            </a>
        </div>
        <div class="col-md-3 text-center d-none d-sm-block" style="padding-top:10px;">

            <!--
            <a class="btn btn-primary btn-borderless" href="/kitchen-duty-plugin-for-atlassian-jira/news/" target="_blank">
                <span class="cs-news-right">news</span>
            </a>
            -->
        </div>
        <div class="col-md-4  d-none d-sm-block cs-page-header-cs-logo text-right cs-page-header--right-fix">
            <a href="https://comsystoreply.de" target="_blank"><img src="/kitchen-duty-plugin-for-atlassian-jira/images/comsysto-logo.png" alt="Comsysto Reply" style="width:150px; margin-top:-20px;"/></a>
        </div>
    </div>
</div>

<!-- CONTENT -->


<div class="cs-content">
    <div class="cs-sidebar-wrapper">
        
<div id="toc">
    <ul>

        

        <li class="toc-h2 ">
            <a href="/kitchen-duty-plugin-for-atlassian-jira/tutorial/01-introduction/">
                <span>&nbsp;</span>
                Introduction
            </a>
        </li>
        <li class="toc-h2 ">
            <a href="/kitchen-duty-plugin-for-atlassian-jira/tutorial/02-step-00-getting-started/">
                <span class="cs-step-badge">0</span>
                Getting Started
            </a>
        </li>

        

        <li class="toc-h2-divider">Part I: Kitchen Duty Planning Page</li>

        <li class="toc-h2 ">
            <a href="/kitchen-duty-plugin-for-atlassian-jira/tutorial/03-story-workshop-for-planning-page/">
                <span>&nbsp;</span>
                Story Workshop for Planning Page
            </a>
        </li>
        <li class="toc-h2 toc-active">
            <a href="/kitchen-duty-plugin-for-atlassian-jira/tutorial/04-step-01-planning-page--webwork-action-and-html-view/">
                <span class="cs-step-badge">1</span>
                Webwork Action and HTML View
            </a>
        </li>
        <li class="toc-h2 ">
            <a href="/kitchen-duty-plugin-for-atlassian-jira/tutorial/05-step-02-planning-page--user-search-rest-resource/">
                <span class="cs-step-badge">2</span>
                User Search REST Resource
            </a>
        </li>
        <li class="toc-h2 ">
            <a href="/kitchen-duty-plugin-for-atlassian-jira/tutorial/06-step-03-planning-page--user-search-js-controller/">
                <span class="cs-step-badge">3</span>
                User Search JS Controller
            </a>
        </li>
        <li class="toc-h2 ">
            <a href="/kitchen-duty-plugin-for-atlassian-jira/tutorial/07-step-04-planning-page--kitchen-duty-planning-rest-resource/">
                <span class="cs-step-badge">4</span>
                Kitchen Duty Planning REST Resource
            </a>
        </li>
        <li class="toc-h2 ">
            <a href="/kitchen-duty-plugin-for-atlassian-jira/tutorial/08-step-05-planning-page--kitchen-duty-planning-js-controller/">
                <span class="cs-step-badge">5</span>
                Kitchen Duty Planning JS Controller
            </a>
        </li>


<!-- DISABLE SVG STATUS FOR NOW
        
        <li>
            
            
            
            
            
            
            
            
            <p>&nbsp;</p>
            <div class="cs-toc-infographic-wrapper">
                
<svg class="cs-interactive-graphic"
     id="navSvg11"
     data-json-settings="{
            &quot;markedAsDone&quot;: [ ],
            &quot;markedAsTodo&quot;: [ &quot;webwork-action&quot;, &quot;html-view&quot; ],
            &quot;markedAsGrayedOut&quot;: [ ],
            &quot;onClick&quot;: [ ]
            }"
     data-svg-to-load="kitchen-duty-planning-page--component-overview"
     viewBox="0 0 1043 654"
     preserveAspectRatio="xMaxYMax">
</svg>

            </div>
        </li>
        
-->

        

        <li class="toc-h2-divider">Part II: Kitchen Duty Overview Page</li>
        <li class="toc-h2 ">
            <a href="/kitchen-duty-plugin-for-atlassian-jira/tutorial/09-story-workshop-for-overview-page/">
                <span>&nbsp;</span>
                Story Workshop for Overview Page
            </a>
        </li>
        <li class="toc-h2 ">
            <a href="/kitchen-duty-plugin-for-atlassian-jira/tutorial/10-step-06-overview-page--implementation/">
                <span class="cs-step-badge">6</span>
                Kitchen Duty Overview Page
            </a>
        </li>


        


        <li class="toc-h2-divider">Misc</li>

        <li class="toc-h2 ">
            <a href="/kitchen-duty-plugin-for-atlassian-jira/news/">
                <span>&nbsp;</span>
                News
            </a>
        </li>

    </ul>







</div>


    </div>
    <div class="cs-content-wrapper">
        <div class="cs-content-wrapper-inner">
        



<div class="row">
    <div class="col-md-12">
        




<h2 class="cs-headline cs-headline--m cs-headline--anchor"
    data-scroll-to-headline="webwork-action-and-html-view"
    data-scroll-to-headline-previous="">
    
    Webwork Action and HTML View
</h2>






        
        
        


        <p>You might say <em>&ldquo;WebworkAction? That came out of nowhere!&rdquo;</em> and you are right. I will introduce you to it, since this is one way to provide Pages inside JIRA in a nice way.</p>

        <p>You can read about <a href="https://developer.atlassian.com/jiradev/jira-platform/jira-architecture/jira-technical-overview/jira-webwork-actions">JIRA Webwork Action</a> or <a href="https://developer.atlassian.com/jiradev/jira-platform/building-jira-add-ons/jira-plugins2-overview/jira-plugin-module-types/webwork-plugin-module">Webwork plugin module</a>
            but you will also understand what is going on after my short introduction.</p>

        <p><strong>Introduction</strong></p>

        <ul>
            <li>
                <p>
                    Basically <strong>Webwork Actions are Controllers</strong> (<a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller">MVC paradigm</a>) that react to certain URLs in JIRA.
                </p>
            </li>
            <li>
                <p>
                    They <strong>handle Authentication</strong> (is user logged in?) <strong>and Authorisation</strong> (has user rights to view page?) easily.
                </p>
            </li>
            <li>
                <p>
                    They let us <strong>define multiple Views</strong> (<a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller">MVC paradigm</a>) for example an Error-View and a Success-View.
                </p>
            </li>
            <li>
                <p>
                    They <strong>provide Template Renderer</strong> like Velocity which helps us to inject some variables into the View.
                </p>
            </li>
            <li>
                They are easily <strong>defined with some XML code</strong> in the <code>atlassian-plugin.xml</code> file <em>(we will learn later more about that)</em>.
            </li>
        </ul>

        <div class="cs-v-spacer cs-v-spacer--small"></div>


        <p>Ok now you know enough to get started. Open a terminal and change inside the directory of the plugin.</p>

        <p>We will again use the Atlassian SDK to generate the basic files for us. Type the command and choose <strong>31. Webwork Plugin</strong></p>

        
<div class="cs-shell">
    <div class="cs-shell__inner">
        <a class="cs-shell__copy-clipboard cs--trigger-copy-clipboard" data-clipboard-text="atlas-create-jira-plugin-module"
           data-toggle="tooltip" data-placement="left"
           data-title-orig="Copy file content to clipboard"
           title="Copy file content to clipboard"><i class="fa fa-files-o"></i></a>

        atlas-create-jira-plugin-module<br>
        <pre class="cs-shell__output"><code class="hljs cs-shell__output-hljs">Choose Plugin Module:
<span class="hljs-number">1</span>:  Component Import
<span class="hljs-number">2</span>:  Component
<span class="hljs-number">3</span>:  Component Tab Panel
...
<span class="hljs-number">31</span>: Webwork Plugin
...
<span class="hljs-number">34</span>: Workflow Validator
Choose a number (<span class="hljs-number">1</span>/<span class="hljs-number">2</span>/<span class="hljs-number">3</span>.../<span class="hljs-number">33</span>/<span class="hljs-number">34</span>): <span class="hljs-number">31</span>
Enter Plugin Module Name My Webwork Module: : Kitchen Duty Planning Webwork Module
Show Advanced Setup? (Y/y/N/n) N: : Y
Module Key kitchen-duty-planning-webwork-module: :
Module Description The Kitchen Duty Planning Webwork Module Plugin: :
i18n Name Key kitchen-duty-planning-webwork-module.name: :
i18n Description Key kitchen-duty-planning-webwork-module.description: :
Enter Action Classname MyActionClass: : KitchenDutyPlanningWebworkAction
Enter Package Name com.comsysto.jira.webwork: : com.comsysto.kitchen.duty.webwork
Enter Alias KitchenDutyPlanningWebworkAction: :
Enter View Name success: : kitchen-duty-planning-success
Enter Template Path /templates/.../kitchen-duty-planning-success.vm: : /templates/kitchen-duty-planning-webwork-module/kitchen-duty-planning-success.vm
Add Another View? (Y/y/N/n) N: : N
Add Another Action? (Y/y/N/n) N: : N
[INFO] Adding the following items to the project:
[INFO]   [class: com.comsysto.kitchen.duty.webwork.KitchenDutyPlanningWebworkAction]
[INFO]   [class: ut.com.comsysto.kitchen.duty.webwork.KitchenDutyPlanningWebworkActionTest]
[INFO]   [dependency: org.apache.httpcomponents:httpclient]
[INFO]   [dependency: org.mockito:mockito-all]
[INFO]   [dependency: org.slf4j:slf4j-api]
[INFO]   [module: webwork1]
[INFO]   [resource: kitchen-duty-planning-success.vm]
[INFO]   i18n strings: <span class="hljs-number">2</span>
Add Another Plugin Module? (Y/y/N/n) N: : N
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: <span class="hljs-number">10</span>:<span class="hljs-number">53</span> min
[INFO] Finished at: <span class="hljs-number">2015</span>-<span class="hljs-number">12</span>-<span class="hljs-number">16</span>T14:<span class="hljs-number">12</span>:<span class="hljs-number">07</span>+<span class="hljs-number">01</span>:<span class="hljs-number">00</span>
[INFO] Final Memory: <span class="hljs-number">29</span>M/<span class="hljs-number">309</span>M
[INFO] ------------------------------------------------------------------------</code></pre>

    </div>
</div>


        <p>After we have done that we see that a lot of code and files have been generated. You can see all changes in this <a href="https://github.com/comsysto/kitchen-duty-plugin-for-atlassian-jira/commit/162ed706c7f4be0356871a4a6f8bb6398b38854f">GitHub Commit 162ed70</a>.</p>

        <p>What is important for us are the following changes:</p>

        <ul>
            <li>
                <p><code>atlassian-plugin.xml</code> contains now the webwork definiton of our Action and View.</p>

                

<div class="cs-code-filename">
    <div class="cs-code-filename-inner">
        
        <span class="d-none d-lg-inline d-xl-inline">src/main/resources/</span><span class="d-none d-sm-inline d-lg-none d-xl-none"
                                                                data-toggle="tooltip"
                                                                data-placement="right"
                                                                title="src/main/resources/">.../</span>atlassian-plugin.xml
        
    </div>
    <div class="cs-code-buttons">
        
        <a href="https://github.com/comsysto/kitchen-duty-plugin-for-atlassian-jira/blob/master/step-01-kitchen-duty-plugin/src/main/resources/atlassian-plugin.xml" target="_blank"
        data-toggle="tooltip" data-placement="left" title="Open file on GitHub"
        class="cs-code-ghlink"><i class="fa fa-github"></i></a>
        
        <a class="cs-code-copylink cs--trigger-copy-clipboard"
        data-toggle="tooltip" data-placement="left"
        data-title-orig="Copy file content to clipboard"
        title="Copy file content to clipboard"
        data-clipboard-text="&lt;webwork1 key=&quot;kitchen-duty-planning-webwork-module&quot; name=&quot;Kitchen Duty Planning Webwork Module&quot; i18n-name-key=&quot;kitchen-duty-planning-webwork-module.name&quot;&gt;
    &lt;description key=&quot;kitchen-duty-planning-webwork-module.description&quot;&gt;The Kitchen Duty Planning Webwork Module Plugin&lt;/description&gt;
    &lt;actions&gt;
      &lt;action name=&quot;com.comsysto.kitchen.duty.webwork.KitchenDutyPlanningWebworkAction&quot; alias=&quot;KitchenDutyPlanningWebworkAction&quot;&gt;
        &lt;view name=&quot;kitchen-duty-planning-success&quot;&gt;/templates/kitchen-duty-planning-webwork-module/kitchen-duty-planning-success.vm&lt;/view&gt;
      &lt;/action&gt;
    &lt;/actions&gt;
  &lt;/webwork1&gt;"><i class="fa fa-files-o"></i></a>
    </div>
</div>

<pre class="cs-code"><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">webwork1</span> <span class="hljs-attribute">key</span>=<span class="hljs-value">"kitchen-duty-planning-webwork-module"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"Kitchen Duty Planning Webwork Module"</span> <span class="hljs-attribute">i18n-name-key</span>=<span class="hljs-value">"kitchen-duty-planning-webwork-module.name"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">description</span> <span class="hljs-attribute">key</span>=<span class="hljs-value">"kitchen-duty-planning-webwork-module.description"</span>&gt;</span>The Kitchen Duty Planning Webwork Module Plugin<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">actions</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">action</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"com.comsysto.kitchen.duty.webwork.KitchenDutyPlanningWebworkAction"</span> <span class="hljs-attribute">alias</span>=<span class="hljs-value">"KitchenDutyPlanningWebworkAction"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">view</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"kitchen-duty-planning-success"</span>&gt;</span>/templates/kitchen-duty-planning-webwork-module/kitchen-duty-planning-success.vm<span class="hljs-tag">&lt;/<span class="hljs-title">view</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">action</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">actions</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">webwork1</span>&gt;</span></code></pre>

            </li>
            <li>
                <p><code>pom.xml</code> contains now needed dependencies.</p>

                

<div class="cs-code-filename">
    <div class="cs-code-filename-inner">
        
        pom.xml
        
    </div>
    <div class="cs-code-buttons">
        
        <a href="https://github.com/comsysto/kitchen-duty-plugin-for-atlassian-jira/blob/master/step-01-kitchen-duty-plugin/pom.xml" target="_blank"
        data-toggle="tooltip" data-placement="left" title="Open file on GitHub"
        class="cs-code-ghlink"><i class="fa fa-github"></i></a>
        
        <a class="cs-code-copylink cs--trigger-copy-clipboard"
        data-toggle="tooltip" data-placement="left"
        data-title-orig="Copy file content to clipboard"
        title="Copy file content to clipboard"
        data-clipboard-text="&lt;dependency&gt;
   &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;
   &lt;artifactId&gt;httpclient&lt;/artifactId&gt;
   &lt;version&gt;4.1.1&lt;/version&gt;
   &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
   &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;
   &lt;version&gt;1.6.6&lt;/version&gt;
   &lt;scope&gt;provided&lt;/scope&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;org.mockito&lt;/groupId&gt;
   &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;
   &lt;version&gt;1.8.5&lt;/version&gt;
   &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;"><i class="fa fa-files-o"></i></a>
    </div>
</div>

<pre class="cs-code"><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">dependency</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>org.apache.httpcomponents<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">artifactId</span>&gt;</span>httpclient<span class="hljs-tag">&lt;/<span class="hljs-title">artifactId</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">version</span>&gt;</span>4.1.1<span class="hljs-tag">&lt;/<span class="hljs-title">version</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-title">scope</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">dependency</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>org.slf4j<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">artifactId</span>&gt;</span>slf4j-api<span class="hljs-tag">&lt;/<span class="hljs-title">artifactId</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">version</span>&gt;</span>1.6.6<span class="hljs-tag">&lt;/<span class="hljs-title">version</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">scope</span>&gt;</span>provided<span class="hljs-tag">&lt;/<span class="hljs-title">scope</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">dependency</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>org.mockito<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">artifactId</span>&gt;</span>mockito-all<span class="hljs-tag">&lt;/<span class="hljs-title">artifactId</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">version</span>&gt;</span>1.8.5<span class="hljs-tag">&lt;/<span class="hljs-title">version</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-title">scope</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">dependency</span>&gt;</span></code></pre>



            </li>
        </ul>


        <p>You should be able to open the <code>KitchenDutyPlanningWebworkAction</code> in IntelliJ now.</p>

        
    
    
    <div class="row">
        <div class="offset-md-1 col-md-10">
            <p>
                <a href="/kitchen-duty-plugin-for-atlassian-jira/images/doc/step-01-intellij-after-webwork-module-create.png">
                    <img src="/kitchen-duty-plugin-for-atlassian-jira/images/doc/step-01-intellij-after-webwork-module-create.png" class="img-fluid" alt="Step 1 - IntelliJ after Webwork Module creation"
                         data-bilderrahmen="gallery-01"
                         data-bilderrahmen-title="Step 1 - IntelliJ after Webwork Module creation"
                    >
                </a>
            </p>
        </div>
    </div>



        <p>Now we change the <code>execute</code> Method to work with our view:</p>

        

<div class="cs-code-filename">
    <div class="cs-code-filename-inner">
        
        <span class="d-none d-lg-inline d-xl-inline">src/main/java/com/comsysto/kitchen/duty/webwork/</span><span class="d-none d-sm-inline d-lg-none d-xl-none"
                                                                data-toggle="tooltip"
                                                                data-placement="right"
                                                                title="src/main/java/com/comsysto/kitchen/duty/webwork/">.../</span>KitchenDutyPlanningWebworkAction.java
        
    </div>
    <div class="cs-code-buttons">
        
        <a href="https://github.com/comsysto/kitchen-duty-plugin-for-atlassian-jira/blob/master/step-01-kitchen-duty-plugin/src/main/java/com/comsysto/kitchen/duty/webwork/KitchenDutyPlanningWebworkAction.java" target="_blank"
        data-toggle="tooltip" data-placement="left" title="Open file on GitHub"
        class="cs-code-ghlink"><i class="fa fa-github"></i></a>
        
        <a class="cs-code-copylink cs--trigger-copy-clipboard"
        data-toggle="tooltip" data-placement="left"
        data-title-orig="Copy file content to clipboard"
        title="Copy file content to clipboard"
        data-clipboard-text="@Override
public String execute() throws Exception {
   return &quot;kitchen-duty-planning-success&quot;;
}"><i class="fa fa-files-o"></i></a>
    </div>
</div>

<pre class="cs-code"><code class="hljs"><span class="hljs-annotation">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">execute</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception </span>{
   <span class="hljs-keyword">return</span> <span class="hljs-string">"kitchen-duty-planning-success"</span>;
}</code></pre>


        <p>Now our view will be called when we browse to the Webactions URL which is simply <code>http://server/jira/secure/[WebWorkAlias].jspa</code> in our case <code class="cs-do-wrap">http://server/jira/secure/KitchenDutyPlanningWebworkAction.jspa</code>.</p>

        <p>We will now start JIRA wich will have our Plugin installed with the following command. (Go get another coffee, this will take some time to download dependencies)</p>

        
<div class="cs-shell">
    <div class="cs-shell__inner">
        <a class="cs-shell__copy-clipboard cs--trigger-copy-clipboard" data-clipboard-text="atlas-run"
           data-toggle="tooltip" data-placement="left"
           data-title-orig="Copy file content to clipboard"
           title="Copy file content to clipboard"><i class="fa fa-files-o"></i></a>

        atlas-run<br>
        <pre class="cs-shell__output"><code class="hljs cs-shell__output-hljs">...
[INFO] [talledLocalContainer] INFORMATION: Server startup <span class="hljs-keyword">in</span> <span class="hljs-number">37754</span> ms
[INFO] [talledLocalContainer] Tomcat <span class="hljs-number">8</span>.x started on port [<span class="hljs-number">2990</span>]
[INFO] jira started successfully <span class="hljs-keyword">in</span> <span class="hljs-number">59</span>s at http://localhost:<span class="hljs-number">2990</span>/jira
[INFO] Type Ctrl-D to shutdown gracefully
[INFO] Type Ctrl-C to <span class="hljs-built_in">exit</span></code></pre>

    </div>
</div>


        <p>Now browse to <a class="cs-do-wrap" href="http://localhost:2990/jira/secure/KitchenDutyPlanningWebworkAction.jspa">http://localhost:2990/jira/secure/KitchenDutyPlanningWebworkAction.jspa</a> and you should see:</p>

        
    
    
    <div class="row">
        <div class="offset-md-1 col-md-10">
            <p>
                <a href="/kitchen-duty-plugin-for-atlassian-jira/images/doc/step-01-atlas-run-jira-with-kitchen-duty-planning-webwork-action.png">
                    <img src="/kitchen-duty-plugin-for-atlassian-jira/images/doc/step-01-atlas-run-jira-with-kitchen-duty-planning-webwork-action.png" class="img-fluid" alt="Step 1 - Success View of Kitchen Duty Planning Webwork Action"
                         data-bilderrahmen="gallery-01"
                         data-bilderrahmen-title="Step 1 - Success View of Kitchen Duty Planning Webwork Action"
                    >
                </a>
            </p>
        </div>
    </div>


        <div class="cs-v-spacer cs-v-spacer--small"></div>

        <p>
            Alright. That is working but it does not look very nice. We will improve the look and functionality step by step.
        </p>
        <p>
            <strong>What do we need to improve the UX?</strong>
        </p>
        <ol>
            <li>We want to have the usual JIRA administrator page layout</li>
            <li>We need a sidebar navigation for links to our pages</li>
            <li>Of course we need a content section</li>
            <li>i18n would be nice so that we can later easily make our plugin multi-language</li>
            <li>The planning page should only be accessible for administrators</li>
        </ol>



        <h3 class="cs-headline cs-headline--s">1. JIRA administrator page layout <em>(Page Decorator)</em></h3>

        <p>We know what we need and I will introduce you to the Atlassian Components which will do the job.</p>

        <p>Edit the <strong><code>kitchen-duty-planning-success.vm</code></strong> which resides in <code>src/main/resources/templates/kitchen-duty-planning-webwork-module/</code> like this.</p>

        

<div class="cs-code-filename">
    <div class="cs-code-filename-inner">
        
        <span class="d-none d-lg-inline d-xl-inline">src/main/resources/templates/kitchen-duty-planning-webwork-module/</span><span class="d-none d-sm-inline d-lg-none d-xl-none"
                                                                data-toggle="tooltip"
                                                                data-placement="right"
                                                                title="src/main/resources/templates/kitchen-duty-planning-webwork-module/">.../</span>kitchen-duty-planning-success.vm
        
    </div>
    <div class="cs-code-buttons">
        
        <a href="https://github.com/comsysto/kitchen-duty-plugin-for-atlassian-jira/blob/master/step-01-kitchen-duty-plugin/src/main/resources/templates/kitchen-duty-planning-webwork-module/kitchen-duty-planning-success.vm" target="_blank"
        data-toggle="tooltip" data-placement="left" title="Open file on GitHub"
        class="cs-code-ghlink"><i class="fa fa-github"></i></a>
        
        <a class="cs-code-copylink cs--trigger-copy-clipboard"
        data-toggle="tooltip" data-placement="left"
        data-title-orig="Copy file content to clipboard"
        title="Copy file content to clipboard"
        data-clipboard-text="&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Planning Page - Kitchen Duty Plugin&lt;/title&gt;
    &lt;meta name=&quot;decorator&quot; content=&quot;atl.admin&quot;&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;Kitchen Duty Plugin - Planning Page&lt;/h1&gt;

&lt;p&gt;Now it looks nice :)&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;"><i class="fa fa-files-o"></i></a>
    </div>
</div>

<pre class="cs-code"><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span>Planning Page - Kitchen Duty Plugin<span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"decorator"</span> <span class="hljs-attribute">content</span>=<span class="hljs-value">"atl.admin"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">h1</span>&gt;</span>Kitchen Duty Plugin - Planning Page<span class="hljs-tag">&lt;/<span class="hljs-title">h1</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-title">p</span>&gt;</span>Now it looks nice :)<span class="hljs-tag">&lt;/<span class="hljs-title">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span></code></pre>


        <p>
            The important thing is the
            <a target="_blank" href="https://developer.atlassian.com/docs/common-coding-tasks/using-standard-page-decorators"><strong>Page Decorator</strong></a>
            part which says <code>&lt;meta name="decorator" content="atl.admin"&gt;</code>.
            So what is that about? This statement tells the Page Decorator to render the layout for <code>atl.admin</code>
            which is basically the administrator layout.
        </p>

        <p>After you have saved the changes run <code>atlas-run</code> again your shell to start JIRA and <a class="cs-do-wrap" href="http://localhost:2990/jira/secure/KitchenDutyPlanningWebworkAction.jspa">browse to the Planning Page</a>. It should look like this now.</p>

        
    
    
    <div class="row">
        <div class="offset-md-1 col-md-10">
            <p>
                <a href="/kitchen-duty-plugin-for-atlassian-jira/images/doc/step-01-planning-page-decorator-atl-admin.png">
                    <img src="/kitchen-duty-plugin-for-atlassian-jira/images/doc/step-01-planning-page-decorator-atl-admin.png" class="img-fluid" alt="Step 1 - Page Decorator atl.admin"
                         data-bilderrahmen="gallery-01"
                         data-bilderrahmen-title="Step 1 - Page Decorator atl.admin"
                    >
                </a>
            </p>
        </div>
    </div>


        <p>If you had <code>atlas-run</code> still running and do not see your changes, try opening a second shell and type <code>atlas-cli</code> wait for the prompt, type <code>pi</code> and press enter. Now your plugin is force-rebuild. You can read more about that later on in the section about faster development.</p>

        <p></p>


        <h3 class="cs-headline cs-headline--s">2. Sidebar Navigation <em>(Web Section / Item)</em></h3>

        <p>We could just simply fiddle our own sidebar together but that is not the professional way.
            Do do it the professional way we will use the
            <a href="https://developer.atlassian.com/jiradev/jira-platform/building-jira-add-ons/jira-plugins2-overview/jira-plugin-module-types/web-section-plugin-module" target="_blank">
                Web Section Plugin Module
            </a>
            and the
            <a href="https://developer.atlassian.com/docs/getting-started/plugin-modules/web-item-plugin-module" target="_blank">
                Web Item Plugin Module
            </a>
            to hook into the JIRA Sidebar which renders for every administrator tab section, so that it will look like this.
        </p>

        
    
    
    <div class="row">
        <div class="offset-md-1 col-md-10">
            <p>
                <a href="/kitchen-duty-plugin-for-atlassian-jira/images/doc/step-01-planning-page-web-section-and-item.png">
                    <img src="/kitchen-duty-plugin-for-atlassian-jira/images/doc/step-01-planning-page-web-section-and-item.png" class="img-fluid" alt="Step 1 - Web Section and Web Item"
                         data-bilderrahmen="gallery-01"
                         data-bilderrahmen-title="Step 1 - Web Section and Web Item"
                    >
                </a>
            </p>
        </div>
    </div>


        <p>You might need another coffee because here comes the code for the <code>atlassian-plugin.xml</code> which resides in <code>src/main/resources/</code></p>

        

<div class="cs-code-filename">
    <div class="cs-code-filename-inner">
        
        <span class="d-none d-lg-inline d-xl-inline">src/main/resources/</span><span class="d-none d-sm-inline d-lg-none d-xl-none"
                                                                data-toggle="tooltip"
                                                                data-placement="right"
                                                                title="src/main/resources/">.../</span>atlassian-plugin.xml
        
    </div>
    <div class="cs-code-buttons">
        
        <a href="https://github.com/comsysto/kitchen-duty-plugin-for-atlassian-jira/blob/master/step-01-kitchen-duty-plugin/src/main/resources/atlassian-plugin.xml" target="_blank"
        data-toggle="tooltip" data-placement="left" title="Open file on GitHub"
        class="cs-code-ghlink"><i class="fa fa-github"></i></a>
        
        <a class="cs-code-copylink cs--trigger-copy-clipboard"
        data-toggle="tooltip" data-placement="left"
        data-title-orig="Copy file content to clipboard"
        title="Copy file content to clipboard"
        data-clipboard-text="&lt;atlassian-plugin&gt;
...
  &lt;web-section key=&quot;admin_kitchen_duty_planning_section&quot;
               name=&quot;admin_kitchen_duty_planning_section&quot;
               location=&quot;admin_plugins_menu&quot;
               weight=&quot;20&quot;
               i18n-name-key=&quot;kitchen-duty-plugin.admin.planning.page.web.section.name&quot;&gt;
    &lt;label key=&quot;kitchen-duty-plugin.admin.planning.page.web.section.name&quot; /&gt;
  &lt;/web-section&gt;

  &lt;web-item key=&quot;admin_kitchen_duty_planning_webitem&quot;
            name=&quot;admin_kitchen_duty_planning_webitem&quot;
            section=&quot;admin_plugins_menu/admin_kitchen_duty_planning_section&quot;
            weight=&quot;15&quot;
            i18n-name-key=&quot;kitchen-duty-plugin.admin.planning.page.web.item.name&quot;&gt;
    &lt;label key=&quot;kitchen-duty-plugin.admin.planning.page.web.item.name&quot; /&gt;
    &lt;link linkId=&quot;admin_kitchen_duty_planning_webitem_link&quot;&gt;/secure/KitchenDutyPlanningWebworkAction.jspa&lt;/link&gt;
  &lt;/web-item&gt;

&lt;/atlassian-plugin&gt;"><i class="fa fa-files-o"></i></a>
    </div>
</div>

<pre class="cs-code"><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">atlassian-plugin</span>&gt;</span>
...
  <span class="hljs-tag">&lt;<span class="hljs-title">web-section</span> <span class="hljs-attribute">key</span>=<span class="hljs-value">"admin_kitchen_duty_planning_section"</span>
               <span class="hljs-attribute">name</span>=<span class="hljs-value">"admin_kitchen_duty_planning_section"</span>
               <span class="hljs-attribute">location</span>=<span class="hljs-value">"admin_plugins_menu"</span>
               <span class="hljs-attribute">weight</span>=<span class="hljs-value">"20"</span>
               <span class="hljs-attribute">i18n-name-key</span>=<span class="hljs-value">"kitchen-duty-plugin.admin.planning.page.web.section.name"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">label</span> <span class="hljs-attribute">key</span>=<span class="hljs-value">"kitchen-duty-plugin.admin.planning.page.web.section.name"</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">web-section</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-title">web-item</span> <span class="hljs-attribute">key</span>=<span class="hljs-value">"admin_kitchen_duty_planning_webitem"</span>
            <span class="hljs-attribute">name</span>=<span class="hljs-value">"admin_kitchen_duty_planning_webitem"</span>
            <span class="hljs-attribute">section</span>=<span class="hljs-value">"admin_plugins_menu/admin_kitchen_duty_planning_section"</span>
            <span class="hljs-attribute">weight</span>=<span class="hljs-value">"15"</span>
            <span class="hljs-attribute">i18n-name-key</span>=<span class="hljs-value">"kitchen-duty-plugin.admin.planning.page.web.item.name"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">label</span> <span class="hljs-attribute">key</span>=<span class="hljs-value">"kitchen-duty-plugin.admin.planning.page.web.item.name"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">link</span> <span class="hljs-attribute">linkId</span>=<span class="hljs-value">"admin_kitchen_duty_planning_webitem_link"</span>&gt;</span>/secure/KitchenDutyPlanningWebworkAction.jspa<span class="hljs-tag">&lt;/<span class="hljs-title">link</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">web-item</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-title">atlassian-plugin</span>&gt;</span></code></pre>


        <p>
            The <strong>web-section</strong> is the "container" which hold <em>web-items</em> and has a headline.
            <strong>Web-items</strong> are basically the navigation links and have a name and URL.
        </p>

        <div class="cs-v-spacer cs-v-spacer--small"></div>

        <p><em>So what is happening here?</em></p>

        <ul>
            <li>
                <p>
                    The <strong><code>web-section</code></strong> does need a <strong>unique key and name</strong>. The <strong>weight</strong> defines the order of the section relative to sections of other addons.
                    The <strong>location</strong> defines the page or tab under which the web-section should be injected; we use the Addons Tab.
                    The <code>&lt;label key</code> is some OSGi stuff I think, just name the key as the i18n-name-key.
                    Lastly the <code>i18n-name-key</code> is the identifier to the <code>kitchen-duty-plugin.properties</code> language file which contains the actual translations.
                </p>
            </li>
            <li><p>
                    The <strong><code>web-item</code></strong> has the same attributes as the web-section. But you need to specify a <code>section</code> which points to our web-section name.
                    The <code>&lt;link</code> object contains the actual URL to our page.
                </p>
            </li>
        </ul>


        <div class="cs-v-spacer cs-v-spacer--small"></div>

        <p>Since we heard about <strong>i18n</strong> now we need to define our values in the language file <code>kitchen-duty-plugin.properties</code>.</p>

        

<div class="cs-code-filename">
    <div class="cs-code-filename-inner">
        
        <span class="d-none d-lg-inline d-xl-inline">src/main/resources/</span><span class="d-none d-sm-inline d-lg-none d-xl-none"
                                                                data-toggle="tooltip"
                                                                data-placement="right"
                                                                title="src/main/resources/">.../</span>kitchen-duty-plugin.properties
        
    </div>
    <div class="cs-code-buttons">
        
        <a href="https://github.com/comsysto/kitchen-duty-plugin-for-atlassian-jira/blob/master/step-01-kitchen-duty-plugin/src/main/resources/kitchen-duty-plugin.properties" target="_blank"
        data-toggle="tooltip" data-placement="left" title="Open file on GitHub"
        class="cs-code-ghlink"><i class="fa fa-github"></i></a>
        
        <a class="cs-code-copylink cs--trigger-copy-clipboard"
        data-toggle="tooltip" data-placement="left"
        data-title-orig="Copy file content to clipboard"
        title="Copy file content to clipboard"
        data-clipboard-text="# websection/webitems
kitchen-duty-plugin.admin.planning.page.web.section.name = Kitchen Duty Plugin
kitchen-duty-plugin.admin.planning.page.web.item.name = Planning Page"><i class="fa fa-files-o"></i></a>
    </div>
</div>

<pre class="cs-code"><code class="hljs"># websection/webitems
kitchen-duty-plugin.admin.planning.page.web.section.name = Kitchen Duty Plugin
kitchen-duty-plugin.admin.planning.page.web.item.name = Planning Page</code></pre>


        <p>Alright this was a little complicated but now we have a nice sidebar navigation link.</p>


        <h3 class="cs-headline cs-headline--s">3. Content Section <em>(AUI Layout)</em></h3>

        <p>Ok this is a no-brainer since you already saw the content section. But to be consistent here is the screenshot ;)</p>

        
    
    
    <div class="row">
        <div class="offset-md-1 col-md-10">
            <p>
                <a href="/kitchen-duty-plugin-for-atlassian-jira/images/doc/step-01-planning-page-content.png">
                    <img src="/kitchen-duty-plugin-for-atlassian-jira/images/doc/step-01-planning-page-content.png" class="img-fluid" alt="Step 1 - Content Section"
                         data-bilderrahmen="gallery-01"
                         data-bilderrahmen-title="Step 1 - Content Section"
                    >
                </a>
            </p>
        </div>
    </div>


        <p>
            If you want to be the a-student you can read about <a target="_blank" href="https://docs.atlassian.com/aui/latest/docs/layout.html">AUI Layout</a>
            and play around a little. We will use that later to further style our pages.
        </p>

        <h3 class="cs-headline cs-headline--s">4. Internationalization <em>(i18n / Velocity)</em></h3>

        <p>You already saw some i18n for web-section/item names. Now we want to i18n-ize our html template.</p>

        <p>
            You might have seen the file-ending <code>.vm</code> already. That means the
            <strong><code>kitchen-duty-planning-success.vm</code></strong> is an <a target="_blank" href="http://velocity.apache.org/">Apache Velocity template</a>.
            Some might wonder now <em>"Didn't the ancient greek use velocity?! Is it really still around?"</em>. Yes it is and I think it does a great job.
        </p>

        <p>So let's get to action, we will change our html code using <code>i18n.getText("i18n.key")</code> which is a velocity helper to render the i18n value for a given key.</p>

        

<div class="cs-code-filename">
    <div class="cs-code-filename-inner">
        
        <span class="d-none d-lg-inline d-xl-inline">src/main/resources/templates/kitchen-duty-planning-webwork-module/</span><span class="d-none d-sm-inline d-lg-none d-xl-none"
                                                                data-toggle="tooltip"
                                                                data-placement="right"
                                                                title="src/main/resources/templates/kitchen-duty-planning-webwork-module/">.../</span>kitchen-duty-planning-success.vm
        
    </div>
    <div class="cs-code-buttons">
        
        <a href="https://github.com/comsysto/kitchen-duty-plugin-for-atlassian-jira/blob/master/step-01-kitchen-duty-plugin/src/main/resources/templates/kitchen-duty-planning-webwork-module/kitchen-duty-planning-success.vm" target="_blank"
        data-toggle="tooltip" data-placement="left" title="Open file on GitHub"
        class="cs-code-ghlink"><i class="fa fa-github"></i></a>
        
        <a class="cs-code-copylink cs--trigger-copy-clipboard"
        data-toggle="tooltip" data-placement="left"
        data-title-orig="Copy file content to clipboard"
        title="Copy file content to clipboard"
        data-clipboard-text="&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;$i18n.getText(&quot;kitchen-duty-plugin.admin.planning.page.title&quot;)&lt;/title&gt;
    &lt;meta name=&quot;decorator&quot; content=&quot;atl.admin&quot;&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;$i18n.getText(&quot;kitchen-duty-plugin.admin.planning.page.headline&quot;)&lt;/h1&gt;

&lt;p&gt;Now it looks nice :)&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;"><i class="fa fa-files-o"></i></a>
    </div>
</div>

<pre class="cs-code"><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span>$i18n.getText("kitchen-duty-plugin.admin.planning.page.title")<span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"decorator"</span> <span class="hljs-attribute">content</span>=<span class="hljs-value">"atl.admin"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">h1</span>&gt;</span>$i18n.getText("kitchen-duty-plugin.admin.planning.page.headline")<span class="hljs-tag">&lt;/<span class="hljs-title">h1</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-title">p</span>&gt;</span>Now it looks nice :)<span class="hljs-tag">&lt;/<span class="hljs-title">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span></code></pre>


        <p>Now we need to add the translations to the <code>kitchen-duty-plugin.properties</code> file and we are done internationalising our page.</p>

        

<div class="cs-code-filename">
    <div class="cs-code-filename-inner">
        
        <span class="d-none d-lg-inline d-xl-inline">src/main/resources/</span><span class="d-none d-sm-inline d-lg-none d-xl-none"
                                                                data-toggle="tooltip"
                                                                data-placement="right"
                                                                title="src/main/resources/">.../</span>kitchen-duty-plugin.properties
        
    </div>
    <div class="cs-code-buttons">
        
        <a href="https://github.com/comsysto/kitchen-duty-plugin-for-atlassian-jira/blob/master/step-01-kitchen-duty-plugin/src/main/resources/kitchen-duty-plugin.properties" target="_blank"
        data-toggle="tooltip" data-placement="left" title="Open file on GitHub"
        class="cs-code-ghlink"><i class="fa fa-github"></i></a>
        
        <a class="cs-code-copylink cs--trigger-copy-clipboard"
        data-toggle="tooltip" data-placement="left"
        data-title-orig="Copy file content to clipboard"
        title="Copy file content to clipboard"
        data-clipboard-text="# kitchen-duty-planning-success.vm
kitchen-duty-plugin.admin.planning.page.headline = Kitchen Duty Plugin - Planning Page
kitchen-duty-plugin.admin.planning.page.title = Planning Page - Kitchen Duty Plugin"><i class="fa fa-files-o"></i></a>
    </div>
</div>

<pre class="cs-code"><code class="hljs"># kitchen-duty-planning-success.vm
kitchen-duty-plugin.admin.planning.page.headline = Kitchen Duty Plugin - Planning Page
kitchen-duty-plugin.admin.planning.page.title = Planning Page - Kitchen Duty Plugin</code></pre>




        <h3 class="cs-headline cs-headline--s">5. Admin only Authorization <em>(Webwork Action)</em></h3>

        <p>We are using a <strong>Webwork Action</strong> for our planning page and we can simply set <code>roles-required="admin"</code> in the
            <code>atlassian-plugin.xml</code> to enforce administrator only authorization.</p>

        

<div class="cs-code-filename">
    <div class="cs-code-filename-inner">
        
        <span class="d-none d-lg-inline d-xl-inline">src/main/resources/</span><span class="d-none d-sm-inline d-lg-none d-xl-none"
                                                                data-toggle="tooltip"
                                                                data-placement="right"
                                                                title="src/main/resources/">.../</span>atlassian-plugin.xml
        
    </div>
    <div class="cs-code-buttons">
        
        <a href="https://github.com/comsysto/kitchen-duty-plugin-for-atlassian-jira/blob/master/step-01-kitchen-duty-plugin/src/main/resources/atlassian-plugin.xml" target="_blank"
        data-toggle="tooltip" data-placement="left" title="Open file on GitHub"
        class="cs-code-ghlink"><i class="fa fa-github"></i></a>
        
        <a class="cs-code-copylink cs--trigger-copy-clipboard"
        data-toggle="tooltip" data-placement="left"
        data-title-orig="Copy file content to clipboard"
        title="Copy file content to clipboard"
        data-clipboard-text="&lt;webwork1 key=&quot;kitchen-duty-planning-webwork-module&quot;
          ...
          roles-required=&quot;admin&quot;&gt;"><i class="fa fa-files-o"></i></a>
    </div>
</div>

<pre class="cs-code"><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">webwork1</span> <span class="hljs-attribute">key</span>=<span class="hljs-value">"kitchen-duty-planning-webwork-module"</span>
          <span class="hljs-attribute">...</span>
          <span class="hljs-attribute">roles-required</span>=<span class="hljs-value">"admin"</span>&gt;</span></code></pre>


        <p>If you log out of JIRA now and browse again to the planning page you will see the administrator login form. When logging in as <code>admin</code> (password <code>admin</code>) you should be redirected to the planning page.</p>

        
    
    
    <div class="row">
        <div class="offset-md-1 col-md-10">
            <p>
                <a href="/kitchen-duty-plugin-for-atlassian-jira/images/doc/step-01-done.png">
                    <img src="/kitchen-duty-plugin-for-atlassian-jira/images/doc/step-01-done.png" class="img-fluid" alt="Step 1 - Done"
                         data-bilderrahmen="gallery-01"
                         data-bilderrahmen-title="Step 1 - Done"
                    >
                </a>
            </p>
        </div>
    </div>


        <div class="cs-v-spacer"></div>

        <div class="cs-tutorial-step-review">
            <div class="cs-tutorial-step-review__headline">
                <strong>You have completed Step 1.</strong> Good Job! You can check out this step's solution on GitHub
            </div>
            <div class="cs-tutorial-step-review__link">
                <a href="https://github.com/comsysto/kitchen-duty-plugin-for-atlassian-jira/tree/master/step-01-kitchen-duty-plugin">
                    https://github.com/comsysto/kitchen-duty-plugin-for-atlassian-jira/tree/master/step-01-kitchen-duty-plugin
                </a>
            </div>
        </div>

        <div class="cs-v-spacer"></div>
        <p>The graphic shows marked green <strong>which components we implemented in this section</strong>.</p>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-10 offset-lg-1 col-xl-8 offset-xl-2">
               
<svg class="cs-interactive-graphic"
     id="p04-ig01"
     data-json-settings="{
                    &quot;markedAsDone&quot;: [ &quot;webwork-action&quot;, &quot;html-view&quot; ],
                    &quot;markedAsTodo&quot;: [ ],
                    &quot;markedAsGrayedOut&quot;: [ ],
                    &quot;onClick&quot;: [ ]
                }"
     data-svg-to-load="kitchen-duty-planning-page--component-overview"
     viewBox="0 0 1043 654"
     preserveAspectRatio="xMaxYMax">
</svg>

            </div>
        </div>


        <div class="cs-v-spacer cs-v-spacer--big"></div>
        <div class="cs-v-spacer cs-v-spacer--big"></div>






    </div>
</div>


        </div>
    </div>
</div>


<div class="cs-footer">
    <div class="cs-legal-box">
        <a href="/kitchen-duty-plugin-for-atlassian-jira/author-and-license/">Author &middot; License &middot; Trademarks</a>
        <a target="_blank" href="https://legal.comsysto.com/comsysto.github.io/de/impressum/">Impressum &middot; Imprint</a>
        <a target="_blank" href="https://legal.comsysto.com/comsysto.github.io/de/datenschutz/">Datenschutz &middot; Privacy</a>
        <a class="d-none d-sm-inline btn-borderless cs-stars-on-github-give-star-button" href="https://github.com/comsysto/kitchen-duty-plugin-for-atlassian-jira" target="_blank">
            star on GitHub
        </a>
    </div>

    <div class="text-right cs-pager">
        <a class="btn btn-secondary" href="/kitchen-duty-plugin-for-atlassian-jira/tutorial/03-story-workshop-for-planning-page/">
            <i class="fa fa-angle-left"></i>
            <span class="d-none d-lg-inline">previous page</span>
        </a>
        
        <a class="btn btn-secondary" href="/kitchen-duty-plugin-for-atlassian-jira/tutorial/05-step-02-planning-page--user-search-rest-resource/">
            <span class="d-none d-lg-inline">next page</span>
            <i class="fa fa-angle-right"></i></a>
        
    </div>
</div>







<script src="/kitchen-duty-plugin-for-atlassian-jira/generated/bundle.js?v2018-09-02--12-50" async></script>


<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
<script>
    WebFont.load({
        google: {
            families: [ 'Menlo',
                'Open+Sans:400,300,600,700,800',
                'Roboto:400,900,700',
                'Source+Sans+Pro:400,300,600',
                'Patrick+Hand'
            ]
        }
    });
</script>
</body>
</html>
